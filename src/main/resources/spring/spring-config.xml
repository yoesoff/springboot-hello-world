<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="
    http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans.xsd 
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd">

    <context:component-scan base-package="com.ibrahim"></context:component-scan>

    <bean id="greetingController" class="com.ibrahim.controllers.GreetingController">
        <property name="helloWorldService" ref="helloWorldIDefault"></property>
        <property name="helloWorldServiceJawa" ref="jawa"></property>
        <property name="helloWorldServiceSunda" ref="sunda"></property>
        <property name="helloWorldServicePadang" ref="padang"></property>
    </bean>

    <bean id="helloWordFactory" class="com.ibrahim.services.HelloWorldFactory"></bean>

    <!-- Bean padang via factory -->
    <bean id="padang" factory-bean="helloWordFactory" factory-method="createHelloWorldService">
        <constructor-arg value="padang"></constructor-arg>
    </bean>

    <!-- Bean sunda via factory -->
    <bean id="sunda" factory-bean="helloWordFactory" factory-method="createHelloWorldService">
        <constructor-arg value="sunda"></constructor-arg>
    </bean>

    <!-- Bean jawa via factory -->
    <bean id="jawa" factory-bean="helloWordFactory" factory-method="createHelloWorldService">
        <constructor-arg value="jawa"></constructor-arg>
    </bean>

    <!-- Beans dengan profile dan factory-->
    <beans profile="indo">
        <bean id="helloWorldIDefault" factory-bean="helloWordFactory" factory-method="createHelloWorldService" primary="true">
            <constructor-arg value="indo"></constructor-arg>
        </bean>
    </beans>

    <beans profile="english">
        <bean id="helloWorldIDefault" factory-bean="helloWordFactory" factory-method="createHelloWorldService" primary="true">
            <constructor-arg value="english"></constructor-arg>
        </bean>
    </beans>
</beans>